import{A as _,r as q,k as I,c as P,b as l,m as U,v as B,a as n,u as s,l as N,f as j,o as x,p as E,j as O}from"./app-db97278d.js";import{u as $}from"./useAPI-5d208629.js";import{u as D}from"./notification-acac295e.js";import{_ as d}from"./SelectInput-941874a0.js";import{_ as F}from"./Spinner-c1a705af.js";import{c as k}from"./countries-4c15b513.js";import{c as L}from"./currencies-7c039667.js";import{p as R}from"./postStatus-c198e9db.js";import{_ as z}from"./TextInput-23d29fe4.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                */const H=u=>(E("data-v-f5856a10"),u=u(),O(),u),J={class:"border-gray-400 border rounded-lg p-6 mb-8"},K={class:"grid gap-6 mb-10 md:grid-cols-2"},M=H(()=>l("div",null,null,-1)),Q={class:"flex gap-4 items-center"},T={name:"CreatePost"},W=Object.assign(T,{props:{receivers:{required:!0,type:Object}},emits:["postAdded"],setup(u,{emit:V}){const c=u;console.log("countires",k);const o=$(),m=D();console.log("receivers",c.receivers);let h=_(()=>k.map(r=>({label:r.value+"("+r.label+")",value:r.value}))),C=_(()=>c.receivers.map(r=>({label:r.first_name+" "+r.last_name,value:r.id})));const i=q(!1),S=()=>{i.value=!0},p=()=>{i.value=!1,o.errors.value={},w()},e=I({receiver_id:"",country_code:"",amount:"",currency:"",status:""}),w=()=>{e.receiver_id="",e.country_code="",e.amount="",e.currency="",e.status=""},A=async()=>{o.startRequest();try{const r=await axios.post("/admin/posts/store",e);console.log("res",r),r.status===200&&(m.notify("Post added","success"),p(),V("postAdded",r.data))}catch(r){m.notify("Error","error"),o.handleErrors(r)}finally{o.requestCompleted()}};return(r,t)=>{var b,f,g,v,y;return x(),P("div",null,[l("button",{onClick:S,type:"button",class:"mb-8 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"}," Add new post "),U(l("form",J,[l("div",K,[n(z,{modelValue:e.amount,"onUpdate:modelValue":t[0]||(t[0]=a=>e.amount=a),errors:(b=s(o).errors.value)==null?void 0:b.amount,label:"Amount",placeholder:"Amount",required:"",title:"amount",class:"fifty-form-input",type:"number"},null,8,["modelValue","errors"]),n(d,{modelValue:e.receiver_id,"onUpdate:modelValue":t[1]||(t[1]=a=>e.receiver_id=a),errors:(f=s(o).errors.value)==null?void 0:f.receiver_id,options:s(C),label:"receivers",required:"",placeholder:" Select ",title:"receiver",type:"text"},null,8,["modelValue","errors","options"]),n(d,{modelValue:e.currency,"onUpdate:modelValue":t[2]||(t[2]=a=>e.currency=a),errors:(g=s(o).errors.value)==null?void 0:g.currency,options:s(L),label:"Currency",required:"",placeholder:" Select ",title:"Currency",type:"text"},null,8,["modelValue","errors","options"]),n(d,{modelValue:e.country_code,"onUpdate:modelValue":t[3]||(t[3]=a=>e.country_code=a),errors:(v=s(o).errors.value)==null?void 0:v.country_code,options:s(h),label:"Country Code",required:"",placeholder:" Select ",title:"Country Code",type:"text"},null,8,["modelValue","errors","options"]),n(d,{modelValue:e.status,"onUpdate:modelValue":t[4]||(t[4]=a=>e.status=a),errors:(y=s(o).errors.value)==null?void 0:y.status,options:s(R),label:"Status",required:"",placeholder:" Select ",title:"Status",type:"text"},null,8,["modelValue","errors","options"]),M]),l("div",Q,[l("button",{onClick:A,type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Add "),l("button",{type:"button",onClick:p,class:"text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"}," Cancel "),s(o).isLoading.value?(x(),N(F,{key:0,class:"button-spinner-center action-btn"})):j("",!0)])],512),[[B,i.value]])])}}}),ne=G(W,[["__scopeId","data-v-f5856a10"]]);export{ne as default};
