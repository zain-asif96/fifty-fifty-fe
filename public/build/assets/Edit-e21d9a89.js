import{k as y,r as _,c as v,a as u,w as x,o as h,b as n,u as i,q as k}from"./app-db97278d.js";import{u as w}from"./useAPI-5d208629.js";import{u as E}from"./notification-acac295e.js";/* empty css                                                */import{_ as V}from"./Modal-54842544.js";import{_ as q}from"./SelectInput-941874a0.js";import{p as S}from"./postStatus-c198e9db.js";import{_ as C}from"./TextInput-23d29fe4.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";const D={class:"flex flex-wrap gap-2 mb-3 justify-content-center"},O={__name:"Edit",props:{postData:{type:Object,required:!0},show:{type:Boolean,default:!1}},emits:["close"],setup(c,{emit:f}){const s=c,d=E(),r=w();console.log("post",s.postData);const e=y({amount:s.postData.value.transaction.payment_intent.amount,status:s.postData.value.status}),b=_(s.show);function l(t){console.log("this s iedit",t),f("close",t)}const g=async()=>{r.startRequest(),console.log("postdata here",e);try{const t=await axios.put("/admin/posts/update/"+s.postData.value.id,e);console.log("res",t),t.data&&(d.notify("Post updated","success"),l(t.data.data))}catch(t){console.log("errors",t),d.notify("Error","error"),r.handleErrors(t)}finally{r.requestCompleted()}};return(t,o)=>(h(),v("div",null,[u(V,{close:l,isOpen:b.value,header:"Edit Post"},{content:x(()=>{var p,m;return[n("form",{class:"p-2 mb-2",onSubmit:o[2]||(o[2]=k((...a)=>t.submit&&t.submit(...a),["prevent"]))},[n("div",D,[u(q,{modelValue:e.status,"onUpdate:modelValue":o[0]||(o[0]=a=>e.status=a),errors:(p=i(r).errors.value)==null?void 0:p.status,options:i(S),label:"Status",required:"",placeholder:" Select ",title:"Status",type:"text"},null,8,["modelValue","errors","options"]),u(C,{modelValue:e.amount,"onUpdate:modelValue":o[1]||(o[1]=a=>e.amount=a),errors:(m=i(r).errors.value)==null?void 0:m.amount,label:"Amount",placeholder:"Amount",required:"",title:"amount",class:"fifty-form-input",type:"number"},null,8,["modelValue","errors"])]),n("div",{class:"flex gap-4 items-center"},[n("button",{type:"submit",onClick:g,class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Edit "),n("button",{type:"button",onClick:l,class:"text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"}," Cancel ")])],32)]}),_:1},8,["isOpen"])]))}},z=B(O,[["__scopeId","data-v-bdf7171b"]]);export{z as default};
