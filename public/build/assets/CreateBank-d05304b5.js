import{r as _,k as v,c as h,b as o,m as x,v as C,a as b,u as l,l as w,f as B,o as m}from"./app-db97278d.js";import{u as V}from"./useAPI-5d208629.js";import{u as A}from"./notification-acac295e.js";import{_ as q}from"./TextInput-23d29fe4.js";import{_ as N}from"./SelectInput-941874a0.js";import{_ as E}from"./Spinner-c1a705af.js";/* empty css                                                */const $={class:"border-gray-400 border rounded-lg p-6 mb-8"},O={class:"grid gap-6 mb-10 md:grid-cols-2"},R={class:"flex gap-4 items-center"},S={name:"CreateBank"},z=Object.assign(S,{props:{countries:{type:Array,required:!0}},emits:["bankAdded"],setup(f,{emit:g}){const e=V(),u=A(),s=_(!1),p=()=>{s.value=!0},d=()=>{s.value=!1,e.errors.value={},y()},r=v({label:"",country_id:null}),y=()=>{r.label="",r.country_id=null},k=async()=>{e.startRequest();try{const t=await axios.post("/admin/banks/store",r);(t.data.id||t.data.status==="success")&&(u.notify("Bank added","success"),d(),g("bankAdded"))}catch(t){u.notify("Error","error"),e.handleErrors(t)}finally{e.requestCompleted()}};return(t,a)=>{var i,c;return m(),h("div",null,[o("button",{onClick:p,type:"button",class:"mb-8 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"}," Add new bank "),x(o("form",$,[o("div",O,[b(q,{modelValue:r.label,"onUpdate:modelValue":a[0]||(a[0]=n=>r.label=n),errors:(i=l(e).errors.value)==null?void 0:i.label,label:"Bank",placeholder:"Royal Bank Canada",required:"",title:"label"},null,8,["modelValue","errors"]),b(N,{modelValue:r.country_id,"onUpdate:modelValue":a[1]||(a[1]=n=>r.country_id=n),errors:(c=l(e).errors.value)==null?void 0:c.country_id,options:f.countries,label:"Choose a Country",required:"",placeholder:" Country ",title:"country_id",type:"text","value-accessor":"id"},null,8,["modelValue","errors","options"])]),o("div",R,[o("button",{onClick:k,type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Add "),o("button",{type:"button",onClick:d,class:"text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"}," Cancel "),l(e).isLoading.value?(m(),w(E,{key:0,class:"button-spinner-center action-btn"})):B("",!0)])],512),[[C,s.value]])])}}});export{z as default};
