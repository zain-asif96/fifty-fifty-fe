import{r as h,k as C,c as w,b as t,m as S,v as q,a as n,u as l,l as A,f as R,o as y}from"./app-db97278d.js";import{u as U}from"./useAPI-5d208629.js";import{u as B}from"./notification-acac295e.js";import{_ as u}from"./TextInput-23d29fe4.js";import{_ as N}from"./SelectInput-941874a0.js";import{_ as D}from"./Spinner-c1a705af.js";/* empty css                                                */const E={class:"border-gray-400 border rounded-lg p-6 mb-8"},O={class:"grid gap-6 mb-10 md:grid-cols-2"},$={class:"flex gap-4 items-center"},j={name:"CreateCurrency"},J=Object.assign(j,{emits:["currencyAdded"],setup(F,{emit:_}){const r=U(),c=B(),d=h(!1),v=()=>{d.value=!0},i=()=>{d.value=!1,r.errors.value={},V()},e=C({name:"",rate:"",special_rate:"",rate_source:"",code:""}),k=[{label:"World Bank",value:"world_bank"},{label:"Special Rate",value:"special"}],V=()=>{e.code="",e.rate="",e.special_rate="",e.name="",e.rate_source=""},x=async()=>{r.startRequest();try{const s=await axios.post("/admin/currencies/store",e);(s.data.id||s.data.status==="success")&&(c.notify("Currency added","success"),i(),_("currencyAdded"))}catch(s){c.notify("Error","error"),r.handleErrors(s)}finally{r.requestCompleted()}};return(s,o)=>{var m,p,b,f,g;return y(),w("div",null,[t("button",{onClick:v,type:"button",class:"mb-8 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"}," Add new currency "),S(t("form",E,[t("div",O,[n(u,{modelValue:e.code,"onUpdate:modelValue":o[0]||(o[0]=a=>e.code=a),errors:(m=l(r).errors.value)==null?void 0:m.code,label:"Currency code",placeholder:"USD",required:"",title:"code"},null,8,["modelValue","errors"]),n(u,{modelValue:e.name,"onUpdate:modelValue":o[1]||(o[1]=a=>e.name=a),errors:(p=l(r).errors.value)==null?void 0:p.name,label:"Currency Name",placeholder:"American Dollar",required:"",title:"name"},null,8,["modelValue","errors"]),n(u,{modelValue:e.rate,"onUpdate:modelValue":o[2]||(o[2]=a=>e.rate=a),errors:(b=l(r).errors.value)==null?void 0:b.rate,label:"Rate",placeholder:"Rate",required:"",type:"number",title:"name"},null,8,["modelValue","errors"]),n(u,{modelValue:e.special_rate,"onUpdate:modelValue":o[3]||(o[3]=a=>e.special_rate=a),errors:(f=l(r).errors.value)==null?void 0:f.special_rate,label:"Special Rate",placeholder:"Special Rate",required:"",type:"number",title:"special_rate"},null,8,["modelValue","errors"]),n(N,{modelValue:e.rate_source,"onUpdate:modelValue":o[4]||(o[4]=a=>e.rate_source=a),errors:(g=l(r).errors.value)==null?void 0:g.rate_source,options:k,label:"Rate Source",required:"",placeholder:" Select ",title:"currency",type:"text"},null,8,["modelValue","errors"])]),t("div",$,[t("button",{onClick:x,type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Add "),t("button",{type:"button",onClick:i,class:"text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"}," Cancel "),l(r).isLoading.value?(y(),A(D,{key:0,class:"button-spinner-center action-btn"})):R("",!0)])],512),[[q,d.value]])])}}});export{J as default};
