import{k as j,r as y,d as A,c as v,a as p,w as $,u as s,F as S,o as m,Z as B,b as e,t as o,l as I,f as x,i as L,e as O,n as b,g as _,h as R,m as D,v as K,O as k,p as U,j as F}from"./app-db97278d.js";import{_ as z}from"./AdminLayout-8e0f8360.js";import{P as M}from"./Pagination-e186959c.js";import T from"./CreateCountry-9455e2b1.js";import Z from"./EditCountry-a9ae82b4.js";import{u as G}from"./useAPI-5d208629.js";import{u as H}from"./notification-acac295e.js";import{E as J}from"./EditIcon-ba38440d.js";import{_ as Q}from"./Spinner-c1a705af.js";import{u as W}from"./sorting-acdd0b76.js";import{_ as X}from"./TextInput-23d29fe4.js";import{_ as Y}from"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-3932dd1a.js";import"./FlashMessage-f6516a28.js";import"./CustomSidebar-7abc467c.js";import"./SidebarElement-2b51bfcd.js";import"./SelectInput-941874a0.js";/* empty css                                                */const w=d=>(U("data-v-56b277e7"),d=d(),F(),d),ee=w(()=>e("title",null,`
            Countries
        `,-1)),te={class:"ml-4 md:ml-16"},se={class:"mt-16 mb-8 text-xl flex items-center justify-between"},oe=w(()=>e("div",null," Countries ",-1)),ae={class:"text-sm"},ne={class:"flex items-end gap-3"},le={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},re={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},ie={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},ce={class:"fw-100"},de={class:"fw-100"},ue={class:"fw-100"},pe={class:"fw-100"},me={class:"fw-100"},be={class:"fw-100"},_e=w(()=>e("th",{class:"px-6 py-3",scope:"col"}," Actions ",-1)),fe={class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",scope:"row"},ge={class:"px-6 py-4"},ve={class:"px-6 py-4"},he={class:"px-6 py-4"},ye={class:"px-6 py-4"},xe={class:"px-6 py-4"},ke={class:"px-6 py-4 flex gap-4 items-center"},we={name:"Countries"},Ce=Object.assign(we,{props:{countries:{required:!0,type:Object},currencies:{type:Array,required:!0}},setup(d){const i=d,V=G();H();const f=j({}),E=r=>{f.value=r},N=()=>{f.value={}},P=r=>{console.log("edited");let n=i.countries.data.findIndex(g=>g.id===r.id);i.countries.data.splice(n,1,r)};var h=y(1),l=y(""),c=y(!1);const a=W(),u=r=>{l.value=l.value!=null?l.value:"",c.value=!0,a.sortValues(r),k.visit(`?page=${h.value}&q=${l.value}&column=${a.column}&type=${a.type}`)&&(c.value=!1)},C=()=>{k.visit(`?page=${h.value}&q=${l.value}&column=${a.column}&type=${a.type}`)},q=()=>{k.visit("?q=")};return A(()=>{l.value=new URLSearchParams(window.location.search).get("q");let r=new URLSearchParams(window.location.search).get("page");h.value=r??1}),(r,n)=>(m(),v(S,null,[p(s(B),{title:"Countries"},{default:$(()=>[ee]),_:1}),p(z,null,{default:$(()=>{var g;return[e("div",te,[e("div",se,[oe,e("div",ae," Page: "+o(i.countries.current_page)+" | total: "+o(i.countries.total)+" | from: "+o(i.countries.from)+", to: "+o(i.countries.to),1)]),p(T,{currencies:d.currencies},null,8,["currencies"]),(g=f.value)!=null&&g.id?(m(),I(Z,{key:0,onEndEdit:N,onCountryEdited:P,"edited-country":f,currencies:d.currencies},null,8,["edited-country","currencies"])):x("",!0),e("div",ne,[p(X,{modelValue:s(l),"onUpdate:modelValue":n[0]||(n[0]=t=>L(l)?l.value=t:l=t),class:"mb-8",label:"Search",placeholder:"Search",title:"searchValue",onKeyup:O(C,["enter"])},null,8,["modelValue","onKeyup"]),e("button",{onClick:C,type:"button",class:"mb-8 flex items-center text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"}," Search "),s(l)?(m(),v("button",{key:0,onClick:q,type:"button",class:"mb-8 flex items-center text-blue-700 bg-white border border-blue-700 hover:bg-gray-100 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"}," Clear ")):x("",!0)]),e("div",le,[e("table",re,[e("thead",ie,[e("tr",null,[e("th",{class:b(["px-6 py-3",s(c)?"disabled":"clickable"]),scope:"col",onClick:n[1]||(n[1]=t=>u("id"))},[_(" #ID "),e("span",ce,o(s(a).column=="id"?"("+s(a).type+")":""),1)],2),e("th",{class:b(["px-6 py-3",s(c)?"disabled":"clickable"]),scope:"col",onClick:n[2]||(n[2]=t=>u("label"))},[_(" Country Name "),e("span",de,o(s(a).column=="label"?"("+s(a).type+")":""),1)],2),e("th",{class:b(["px-6 py-3",s(c)?"disabled":"clickable"]),scope:"col",onClick:n[3]||(n[3]=t=>u("name"))},[_(" Currency "),e("span",ue,o(s(a).column=="name"?"("+s(a).type+")":""),1)],2),e("th",{class:b(["px-6 py-3",s(c)?"disabled":"clickable"]),scope:"col",onClick:n[4]||(n[4]=t=>u("can_send"))},[_(" Sending Countries "),e("span",pe,o(s(a).column=="can_send"?"("+s(a).type+")":""),1)],2),e("th",{class:b(["px-6 py-3",s(c)?"disabled":"clickable"]),scope:"col",onClick:n[5]||(n[5]=t=>u("can_receive"))},[_(" Receiving Countries "),e("span",me,o(s(a).column=="can_receive"?"("+s(a).type+")":""),1)],2),e("th",{class:b(["px-6 py-3",s(c)?"disabled":"clickable"]),scope:"col",onClick:n[6]||(n[6]=t=>u("status"))},[_(" Status "),e("span",be,o(s(a).column=="status"?"("+s(a).type+")":""),1)],2),_e])]),e("tbody",null,[(m(!0),v(S,null,R(i.countries.data,t=>D((m(),v("tr",{key:t.id,class:"bg-white border-b dark:bg-gray-900 dark:border-gray-700"},[e("th",fe,o(t.id),1),e("td",ge,o(t.label)+" ("+o(t.code)+") ",1),e("td",ve,o(t.currency.name)+" ("+o(t.currency.code)+") ",1),e("td",he,o(t.can_send),1),e("td",ye,o(t.can_receive),1),e("td",xe,o(t.status?t.status:"N/A"),1),e("td",ke,[p(J,{onClick:$e=>E(t),class:"w-8 hover:cursor-pointer hover:bg-blue-600 hover:text-white rounded-md p-1"},null,8,["onClick"]),s(V).isLoading.value&&r.deletingCountryId===t.id?(m(),I(Q,{key:0,class:"button-spinner-center action-btn"})):x("",!0)])])),[[K,t.id!=="deleted"]])),128))])])]),p(M,{links:i.countries.links},null,8,["links"])])]}),_:1})],64))}}),Me=Y(Ce,[["__scopeId","data-v-56b277e7"]]);export{Me as default};
