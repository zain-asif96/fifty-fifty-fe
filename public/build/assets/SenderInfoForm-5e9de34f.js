import{_ as I,V as q}from"./vue-tel-input-c423b696.js";import{K as N,k,c as U,a as n,u as a,w as L,b as B,O as g,o as D,n as O}from"./app-db97278d.js";import{u as S}from"./useAPI-5d208629.js";import{_ as E}from"./NewSelectInput-293ca775.js";import{c as $}from"./countries-4c15b513.js";import{u as j}from"./notification-acac295e.js";import{_ as l}from"./NewTextInput-f00b3737.js";import{N as b}from"./NewActionButton-b46bcee5.js";import"./FiftyText-b13f5419.js";import"./Spinner-c1a705af.js";/* empty css                                                *//* empty css                                                     */import"./_plugin-vue_export-helper-c27b6911.js";const A={class:"sender-info-form-wrapper"},F={class:"action-buttons"},P={name:"SenderInfo"},ee=Object.assign(P,{props:{transactionId:{required:!1,type:String}},setup(h){const i=h,r=S(),V=j(),u=N().props.geoDetails,o=k({first_name:"",country:u.country_code,last_name:"",email:"",phone:"",flag:"complete_transaction"}),C=async s=>{s.preventDefault(),r.startRequest();try{(await axios.post("/api/validate-info",{...o,transactionId:i.transactionId})).data.status==="success"&&g.get("/verify-contacts?source="+(i.transactionId??"direct"))}catch(e){V.notify("Something went wrong...","error"),r.handleErrors(e)}finally{r.requestCompleted()}},v=s=>{o.phone="+"+s.dialCode},x=()=>{g.visit("/")};return(s,e)=>{var d,m,p,c,f;return D(),U("div",A,[n(l,{modelValue:o.first_name,"onUpdate:modelValue":e[0]||(e[0]=t=>o.first_name=t),errors:(d=a(r).errors.value)==null?void 0:d.first_name,label:"First Name",placeholder:"John",required:"",title:"first_name",class:"sender-input"},null,8,["modelValue","errors"]),n(l,{modelValue:o.last_name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.last_name=t),errors:(m=a(r).errors.value)==null?void 0:m.last_name,label:"Last Name",placeholder:"Doe",required:"",title:"last_name",class:"sender-input"},null,8,["modelValue","errors"]),n(l,{modelValue:o.email,"onUpdate:modelValue":e[2]||(e[2]=t=>o.email=t),errors:(p=a(r).errors.value)==null?void 0:p.email,label:"Email",placeholder:"john@example.com",required:"",title:"email",class:"sender-input"},null,8,["modelValue","errors"]),n(I,{errors:(c=a(r).errors.value)==null?void 0:c.phone,required:!0,label:"Phone Number",title:"phone",class:"sender-input"},{default:L(()=>{var t,y,_;return[n(a(q),{id:"exampleFormControlInput1",ref:"input",modelValue:o.phone,"onUpdate:modelValue":e[3]||(e[3]=w=>o.phone=w),class:O([{"error-border":((y=(t=a(r).errors.value)==null?void 0:t.phone)==null?void 0:y.length)>0},"form-control block w-full px-0 py-0 text-lg font-normal h-10 text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-linear m-0 focus:text-gray-700 focus:bg-white focus:border-indigo-300 focus:outline-none"]),defaultCountry:(_=a(u))==null?void 0:_.country_code,inputOptions:{placeholder:"123456789"},mode:"international",onCountryChanged:v},null,8,["modelValue","class","defaultCountry"])]}),_:1},8,["errors"]),n(E,{modelValue:o.country,"onUpdate:modelValue":e[4]||(e[4]=t=>o.country=t),errors:(f=a(r).errors.value)==null?void 0:f.country,options:a($),disabled:"",label:"Country",placeholder:"Country",required:"",title:"country",type:"text",class:"sender-input country"},null,8,["modelValue","errors","options"]),B("div",F,[n(b,{reversed:!0,type:"button",title:"Cancel",onClick:x}),n(b,{isLoading:a(r).isLoading.value,title:"Continue",onClick:C},null,8,["isLoading"])])])}}});export{ee as default};
